# JavaScriptクイズゲーム

JavaScriptとJSONをデータベースとして使用したシンプルなブラウザベースのクイズゲームです。

## 📝 概要

このプロジェクトは、以下の技術を使用して作成されています:
- **HTML5**: 画面構造
- **CSS3**: デザイン・スタイリング
- **JavaScript (ES6)**: ゲームロジック
- **JSON**: 問題データの保存

外部ライブラリを使用せず、Vanilla JavaScriptのみで実装されています。

## ✨ 機能

- ✅ 10問の4択クイズ
- 🔀 ランダム出題(毎回順序が変わる)
- ✓ 正解・不正解の即座の判定とフィードバック
- 📊 最終スコアと正解率の表示
- 🔄 再挑戦機能
- 📱 レスポンシブデザイン(スマホ・タブレット対応)
- ⚠️ エラーハンドリング
- 📲 **PWA対応**(オフライン動作、ホーム画面追加可能)

## 📁 ファイル構成

```
quiz-game/
│
├── index.html              # メインHTML(ゲーム画面)
├── style.css               # スタイルシート
├── app.js                  # ゲームロジック
├── sw.js                   # Service Worker(PWA用)
├── manifest.json           # PWAマニフェスト
├── quiz_icon_192.png       # PWAアイコン(192x192)
├── quiz_icon_512.png       # PWAアイコン(512x512)
├── data/
│   └── quizzes.json        # 問題データ
├── 要件定義書_クイズゲーム.md  # 要件定義書
└── README.md               # このファイル
```

## 🚀 起動方法

### 方法1: 直接開く(オフライン)
1. `index.html`をダブルクリックで開く
2. 画面にエラー案内が表示されたら、[ファイルを選択]ボタンから`data/quizzes.json`を選択してください
3. 選択後は問題が読み込まれ、通常どおりプレイできます

### 方法2: ブラウザにドラッグ&ドロップ
1. `index.html`をブラウザのウィンドウにドラッグ&ドロップ

### 方法3: ローカルサーバー経由（CORS対策/開発向け）
VS Codeの拡張機能「Live Server」などを使用:
1. VS Codeで`index.html`を開く
2. 右クリック → "Open with Live Server"

または、Pythonの簡易サーバー:
```powershell
# PowerShellで実行
cd "C:\Users\rintarou\Desktop\ソフトウェア開発_課題"
python -m http.server 8000
```
その後、ブラウザで `http://localhost:8000` にアクセス

## 📲 PWA(Progressive Web App)機能

このクイズゲームはPWAに対応しており、以下の機能が利用できます:

### PWAの特徴
- **オフライン動作**: 一度アクセスすれば、インターネット接続なしでも動作
- **ホーム画面に追加**: スマホやPCのホーム画面にアプリとしてインストール可能
- **高速起動**: キャッシュにより高速に起動
- **ネイティブアプリ風**: ブラウザのアドレスバーなしで全画面表示

### PWAとしてインストールする方法

#### PC (Chrome/Edge)
1. ローカルサーバー経由で起動（方法3参照）
2. アドレスバー右側に「インストール」アイコン(⊕)が表示されます
3. クリックして「インストール」を選択
4. デスクトップやスタートメニューからアプリとして起動できます

#### Android (Chrome)
1. ローカルサーバー経由で起動（方法3参照、スマホから同一ネットワーク上のPCにアクセス）
2. メニュー(⋮)→「ホーム画面に追加」を選択
3. ホーム画面にアイコンが追加され、アプリとして起動できます

#### iOS (Safari)
1. ローカルサーバー経由で起動
2. 共有ボタン(□↑)→「ホーム画面に追加」を選択
3. ホーム画面にアイコンが追加されます

### オフライン動作について
- 一度アクセスすると、HTML/CSS/JavaScriptがキャッシュされます
- インターネット接続がなくても起動・プレイ可能
- 問題データ(`data/quizzes.json`)は初回読み込み後、ファイル選択で更新できます

### 注意事項
- PWA機能を使うには**ローカルサーバー経由**でのアクセスが必要です（`file://`では動作しません）
- Service Workerの更新: コードを更新した場合、ブラウザで「Ctrl+Shift+R」(ハードリロード)してキャッシュをクリアしてください

## 🎮 遊び方

1. **起動**: `index.html`を開くと、自動的に1問目が表示されます
2. **回答**: A〜Dの選択肢をクリックして選択
3. **確定**: 「回答する」ボタンをクリック
4. **判定**: 正解/不正解が表示され、2秒後に次の問題へ自動遷移
5. **結果**: 10問すべて回答すると、スコアと正解率が表示されます
6. **再挑戦**: 「再挑戦する」ボタンで、問題がシャッフルされて再スタート

## 📝 問題の追加・編集方法

### 問題の追加

1. **`data/quizzes.json`をテキストエディタで開く**
   - VS Code、メモ帳などで編集可能

2. **問題を追加**
   ```json
   {
     "id": 11,
     "question": "あなたの質問文をここに入力?",
     "options": [
       "選択肢A",
       "選択肢B",
       "選択肢C",
       "選択肢D"
     ],
     "correctAnswer": 0
   }
   ```

3. **フィールドの説明**
   - `id`: 問題の一意の番号(重複しない連番)
   - `question`: 質問文(文字列)
   - `options`: 4つの選択肢(配列、必ず4個)
   - `correctAnswer`: 正解の番号(0=A, 1=B, 2=C, 3=D)

4. **保存してブラウザをリロード**

### ⚠️ 注意事項

- `options`は必ず4個にしてください
- `correctAnswer`は0〜3の数値を指定
- JSON形式を崩さないように注意(カンマ、括弧、引用符など)
- 日本語を使用する場合、ファイルはUTF-8で保存

### JSON形式チェック

編集後、以下のサイトで形式をチェックできます:
- https://jsonlint.com/

## 🔧 トラブルシューティング

### 問題が表示されない

**原因1**: `file://`直開きでfetchが失敗
**対処法1**: 
- エラー画面で「ファイルを選択」を押して`data/quizzes.json`を読み込んでください（埋め込みデータは使用していません）

**原因2**: JSONファイルのパスが間違っている（ローカルサーバー利用時）
**対処法2**: 
- `data/quizzes.json`が正しく配置されているか確認
- ファイル構成が上記の通りになっているか確認

### エラーメッセージが表示される

**原因1**: JSON形式が不正
**対処法**: 
- JSONLintでファイルをチェック
- カンマ、引用符、括弧の閉じ忘れがないか確認

**原因2**: 必須フィールドが不足
**対処法**:
- 各問題に`id`, `question`, `options`, `correctAnswer`が揃っているか確認

### 選択肢が4つ表示されない

**原因**: `options`配列の要素数が4個でない
**対処法**: 各問題の`options`を4個に修正

### 正解が反映されない

**原因**: `correctAnswer`の値が0〜3の範囲外
**対処法**: 
- A: 0
- B: 1
- C: 2
- D: 3

### ブラウザの開発者ツールでエラーを確認する方法

1. ブラウザで`F12`キーを押す
2. 「Console」タブを開く
3. 赤いエラーメッセージがないか確認

## 🎨 カスタマイズ

### 配色を変更したい

`style.css`を編集:
```css
/* メインカラー変更 */
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
/* ↑この部分を好きな色に変更 */
```

### 問題数を変更したい

`data/quizzes.json`に問題を追加または削除するだけで自動的に対応します。
10問以外でも正常に動作します。

### タイマー機能を追加したい

`app.js`の`displayQuestion()`関数内で`setTimeout()`を使用して実装可能です。
(詳細は要件定義書の「将来の拡張案」を参照)

## 📊 動作環境

### 対応ブラウザ
- Google Chrome(最新版) ✅
- Microsoft Edge(最新版) ✅
- Firefox(最新版) ✅
- Safari(最新版) ✅

### 推奨環境
- Windows 10/11
- macOS 10.15以降
- インターネット接続: 不要(オフラインで動作)

## 🐛 既知の問題

現時点ではありません。

## 📄 ライセンス

このプロジェクトは個人学習用です。自由に改変・使用してください。

## 📚 参考資料

- [MDN Web Docs - JavaScript](https://developer.mozilla.org/ja/docs/Web/JavaScript)
- [MDN Web Docs - JSON](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Global_Objects/JSON)
- [JSON公式サイト](https://www.json.org/json-ja.html)

## 📞 サポート

問題が発生した場合は、要件定義書の「トラブルシューティング」セクションを参照してください。

---

**開発者**: rintarou  
**作成日**: 2025年11月11日  
**バージョン**: 1.0
